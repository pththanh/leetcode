const testCase = [
  {
    nums: [6, 0, 8, 2, 1, 5],
  },
  {
    nums: [9, 8, 1, 0, 1, 9, 4, 0, 4, 1],
  },
  {
    nums: [1, 9, 7, 0, 6, 5, 0, 7, 2, 3],
  },
  {
    nums: [
      74, 37, 98, 98, 97, 96, 94, 93, 92, 89, 85, 83, 83, 82, 82, 82, 80, 77,
      76, 75, 75, 74, 73, 72, 98, 70, 16, 69, 87, 29, 67, 65, 63, 63, 63, 62,
      62, 61, 60, 60, 48, 59, 58, 53, 53, 53, 52, 52, 50, 12, 47, 47, 46, 46,
      43, 43, 42, 40, 38, 38, 92, 35, 35, 35, 34, 34, 33, 31, 31, 31, 31, 30,
      27, 26, 25, 25, 25, 23, 23, 23, 20, 18, 16, 14, 14, 14, 13, 12, 11, 10, 9,
      7, 7, 7, 7, 5, 5, 5, 5, 89,
    ],
  },
  {
    nums: [
      277, 227, 215, 172, 164, 236, 144, 11, 212, 158, 46, 256, 47, 114, 32, 56,
      54, 8, 1, 107, 11, 298, 179, 191, 175, 86, 78, 90, 218, 1, 65, 284, 210,
      184, 15, 295, 265, 248, 35, 7, 23, 114, 265, 138, 220, 58, 27, 93, 52, 16,
      206, 299, 52, 285, 34, 263, 127, 214, 291, 34, 99, 104, 108, 84, 68, 60,
      225, 143, 262, 7, 36, 262, 69, 123, 170, 30, 154, 297, 212, 72, 230, 234,
      168, 263, 216, 118, 284, 298, 175, 84, 280, 12, 50, 233, 73, 139, 193,
      158, 49, 181, 236, 90, 170, 297, 189, 87, 270, 34, 186, 149, 124, 101, 58,
      128, 114, 247, 23, 101, 53, 271, 40, 233, 42, 219, 242, 232, 199, 104,
      116, 206, 170, 249, 200, 89, 142, 177, 5, 3, 212, 17, 134, 78, 1, 163,
      215, 262, 241, 110, 130, 23, 264, 90, 105, 43, 99, 210, 91, 259, 68, 121,
      173, 263, 223, 131, 136, 112, 1, 217, 21, 85, 19, 224, 116, 81, 16, 51,
      286, 64, 81, 27, 225, 266, 295, 247, 58, 273, 129, 185, 124, 191, 264, 55,
      146, 264, 91, 176, 56, 165, 14, 132, 127, 38, 30, 251, 287, 181, 45, 285,
      71, 48, 54, 163, 48, 151, 210, 40, 179, 234, 172, 15, 85, 0, 298, 121,
      159, 171, 263, 31, 147, 186, 98, 220, 160, 186, 259, 2, 92, 68, 136, 277,
      195, 170, 150, 49, 290, 112, 186, 215, 35, 9, 238, 287, 80, 210, 158, 49,
      62, 280, 208, 85, 288, 26, 35, 8, 270, 272, 204, 248, 181, 142, 259, 38,
      198, 194, 255, 183, 48, 109, 196, 14, 269, 272, 64, 7, 113, 172, 182, 134,
      207, 276, 293, 251, 188, 270, 123, 184, 79, 30, 33, 195,
    ],
  },
];

/**
 * @param {number[]} nums
 * @return {number}
 */
var maxWidthRamp = function (nums) {
  let stack = [];
  let result = 0;

  for (let i = 0; i < nums.length; i++) {
    if (stack.length === 0 || nums[stack[stack.length - 1]] > nums[i]) {
      stack.push(i);
    }
  }

  for (let j = nums.length - 1; j >= 0; j--) {
    while (stack.length > 0 && nums[stack[stack.length - 1]] <= nums[j]) {
      let i = stack.pop();
      result = Math.max(result, j - i);
    }
  }

  return result;
};

testCase.forEach(({ nums }, index) => {
  console.log("Index: ", index, maxWidthRamp(nums));
});
